---
import { getCollection } from "astro:content";
import { getSectionPaths } from "../../../../utils/staticPath";

export async function getStaticPaths() {
  return await getSectionPaths();
}
const { section } = Astro.params;
const folders = await getCollection("demos", ({ slug }) =>
  slug.includes(section as string)
);
const folderNames = new Set();
folders.forEach(({ slug }) => folderNames.add(slug.split("/")[2]));
const path = Astro.url.pathname.split("/").at(-1);
---

<h1>Folders</h1>
{
  Array.from(folderNames).map((folder) => (
    <a href={`./${path}/${folder}`}>
      {folder} <br />
    </a>
  ))
}
